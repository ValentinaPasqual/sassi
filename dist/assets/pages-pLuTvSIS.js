import"./modulepreload-polyfill-B5Qt9EMX.js";import{p as f}from"./dataParser-DcqIIHiG.js";function u(){const e=window.location.href,n=new URL(e).searchParams.get("scheda");return n?decodeURIComponent(n):null}function m(e,t){return!e||!t||!Array.isArray(t)?null:t.find(n=>n.Titolo===e)||null}function h(e){if(!e)return{};const t={};for(const[n,r]of Object.entries(e))t[n]=r;return t}async function p(){try{const e=u();if(!e)return console.error("No record title found in URL"),null;const t=await f(),n=m(e,t);if(!n)return console.error(`Record with title "${e}" not found`),null;const r=h(n);return console.log("Record Title:",e),console.log("Record Data:",r),r}catch(e){return console.error("Error extracting record data:",e),null}}document.addEventListener("DOMContentLoaded",()=>{p().then(e=>{if(e){const t=document.getElementById("record-data-container");t&&C(t,e)}}).catch(e=>{console.error("Failed to extract record data:",e)})});function C(e,t){e.innerHTML="";const n=document.createElement("h1");n.textContent=u()||"Record Details",e.appendChild(n);for(const[r,o]of Object.entries(t)){const a=document.createElement("section");a.className="record-data-section";const d=document.createElement("h2");d.textContent=r,a.appendChild(d);const c=document.createElement("div");if(c.className="record-data-value",typeof o=="object"&&o!==null)if(Array.isArray(o)){const i=document.createElement("ul");o.forEach(l=>{const s=document.createElement("li");s.textContent=typeof l=="object"?JSON.stringify(l):l,i.appendChild(s)}),c.appendChild(i)}else c.textContent=JSON.stringify(o,null,2);else c.textContent=o;a.appendChild(c),e.appendChild(a)}}
